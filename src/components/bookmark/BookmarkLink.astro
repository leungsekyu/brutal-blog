---
interface Props {
  site: string
  name: string
  tags?: string[]
}

const { site, name, tags = [] } = Astro.props

// 从 URL 中提取主域名
const url = new URL(site)
const iconUrl = `${url.protocol}//${url.hostname}/favicon.ico`
---

<div class="bookmark-item">
  <a href={site} data-tags={JSON.stringify(tags)} class="block rounded p-2 transition-colors hover:bg-gray-100">
    {name}
  </a>
  {
    tags.length > 0 && (
      <div class="ml-2 mt-1 flex flex-wrap gap-1">
        {tags.map((tag) => (
          <button
            class="tag-button rounded-full bg-gray-200 px-2 py-0.5 text-sm transition-colors hover:bg-gray-300"
            data-tag={tag}
          >
            {tag}
          </button>
        ))}
      </div>
    )
  }
</div>
